<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>–ú–∏–Ω–∏ –±—Ä–∞—É–∑–µ—Ä —Å –∫–ª–∞–≤–∏–∞—Ç—É—Ä–æ–π</title>
  <style>
    body {margin:0; font-family:Arial; display:flex; flex-direction:column; height:100vh;}
    #urlBar {display:flex; padding:5px; background:#333;}
    #urlInput {flex:1; padding:8px; font-size:16px; border:none; border-radius:4px;}
    #goBtn {padding:8px 15px; margin-left:5px; border:none; background:#4CAF50; color:#fff; border-radius:4px;}
    #viewer {flex:1; border:none; width:100%;}
    #keyboard {background:#222; padding:10px; display:flex; flex-direction:column; align-items:center; gap:5px;}
    .row {display:flex; gap:5px;}
    .key {padding:10px 14px; background:#444; color:#fff; border:none; border-radius:6px; cursor:pointer; font-size:16px;}
    .key:hover {background:#666;}
    .special {background:#0077cc;}
    #langBtn {background:#cc5500;}
  </style>
</head>
<body>
  <!-- –ü–æ–ª–µ –≤–≤–æ–¥–∞ -->
  <div id="urlBar">
    <input type="text" id="urlInput" placeholder="–í–≤–µ–¥–∏—Ç–µ URL (–Ω–∞–ø—Ä–∏–º–µ—Ä https://example.com)">
    <button id="goBtn">–ü–µ—Ä–µ–π—Ç–∏</button>
  </div>

  <!-- Iframe -->
  <iframe id="viewer" sandbox="allow-scripts allow-same-origin allow-forms allow-popups"></iframe>

  <!-- –≠–∫—Ä–∞–Ω–Ω–∞—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞ -->
  <div id="keyboard">
    <!-- –¶–∏—Ñ—Ä—ã -->
    <div class="row" id="row-numbers"></div>
    <!-- –û—Å–Ω–æ–≤–Ω—ã–µ –±—É–∫–≤—ã -->
    <div class="row" id="row1"></div>
    <div class="row" id="row2"></div>
    <div class="row" id="row3"></div>
    <div class="row">
      <button class="key special" id="space">–ü—Ä–æ–±–µ–ª</button>
      <button class="key special" id="back">‚å´</button>
      <button class="key special" id="enter">‚èé Enter</button>
      <button class="key special" id="langBtn">üåê RU/EN</button>
    </div>
  </div>

  <script>
    const iframe = document.getElementById("viewer");
    const input = document.getElementById("urlInput");
    const btn = document.getElementById("goBtn");
    const rowNumbers = document.getElementById("row-numbers");
    const row1 = document.getElementById("row1");
    const row2 = document.getElementById("row2");
    const row3 = document.getElementById("row3");
    const langBtn = document.getElementById("langBtn");

    // –Ø–∑—ã–∫–æ–≤—ã–µ —Ä–∞—Å–∫–ª–∞–¥–∫–∏
    const layouts = {
      en: {
        row1: ["q","w","e","r","t","y","u","i","o","p"],
        row2: ["a","s","d","f","g","h","j","k","l"],
        row3: ["z","x","c","v","b","n","m",".","/",":"],
        numbers: ["1","2","3","4","5","6","7","8","9","0"],
      },
      ru: {
        row1: ["–π","—Ü","—É","–∫","–µ","–Ω","–≥","—à","—â","–∑"],
        row2: ["—Ñ","—ã","–≤","–∞","–ø","—Ä","–æ","–ª","–¥"],
        row3: ["—è","—á","—Å","–º","–∏","—Ç","—å",".","/",":"],
        numbers: ["1","2","3","4","5","6","7","8","9","0"],
      }
    };

    let currentLang = "en";

    // —Ñ—É–Ω–∫—Ü–∏—è —Ä–µ–Ω–¥–µ—Ä–∞ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
    function renderKeyboard() {
      rowNumbers.innerHTML = "";
      row1.innerHTML = "";
      row2.innerHTML = "";
      row3.innerHTML = "";

      layouts[currentLang].numbers.forEach(ch => addKey(rowNumbers, ch));
      layouts[currentLang].row1.forEach(ch => addKey(row1, ch));
      layouts[currentLang].row2.forEach(ch => addKey(row2, ch));
      layouts[currentLang].row3.forEach(ch => addKey(row3, ch));
    }

    function addKey(row, char) {
      const btn = document.createElement("button");
      btn.className = "key";
      btn.textContent = char;
      btn.addEventListener("click", () => {
        input.value += char;
      });
      row.appendChild(btn);
    }

    function goToSite() {
      let url = input.value.trim();
      if (!url.startsWith("http")) url = "https://" + url;
      iframe.src = url;
    }

    btn.addEventListener("click", goToSite);

    document.getElementById("space").addEventListener("click", () => {
      input.value += " ";
    });
    document.getElementById("back").addEventListener("click", () => {
      input.value = input.value.slice(0, -1);
    });
    document.getElementById("enter").addEventListener("click", goToSite);

    langBtn.addEventListener("click", () => {
      currentLang = currentLang === "en" ? "ru" : "en";
      renderKeyboard();
    });

    // –æ—Ç—Ä–∏—Å–æ–≤–∫–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
    renderKeyboard();
  </script>
</body>
</html>
